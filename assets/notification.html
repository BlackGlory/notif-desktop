<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>UniversalNotification</title>
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://unpkg.com;" />
  <script type="module">
    import { html, render } from 'https://unpkg.com/lit-html@1.3.0/lit-html.js'
    import { component, useState } from 'https://unpkg.com/haunted@4.7.1/haunted.js'

    function Notification(props) {
      return html`
        <div @click=${() => openURI(props.url)}>
          <div>${props.title}</div>
          <div>${props.message}</div>
          <img src=${props.iconUrl} />
          <img src=${props.imageUrl} />
        </div>
      `
    }

    customElements.define('universal-notification', component(Notification))

    API.getNotification().then(notification => {
      render(Notification(notification), document.body)
    })

    function openURI(uri) {
      alert(uri)
    }
  </script>
</head>
<body></body>
</html>
